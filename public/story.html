<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Story</title>
    <link rel="stylesheet" href="story.css">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="assets/logo.png" alt="Logo">
            <span>MrApers</span>
        </div>
        <div class="button-container">
            <a href="index.html">
            <button>
                <img src="assets/rarrow.svg" alt="Wave Icon">
                Go Back
            </button>
        </a>
        </div>
    </header>
    <section class="profile">
        <img src="assets/rarrow2.svg" alt="go back" class="go-back">
        <h4><a href="index.html" class="dont">Go Back</a></h4>
    </section>

    <main>
        <h1>Hey, I'm <span>Casper</span>!</h1>
        <p>I love expressing myself through creativity, always taking my own approach.</p>
        <p>My journey is a road of continuous growth and learning… One I hope will never end.</p>
        <p>Since I’ve always been looking for trouble, teachers never truly liked me… Failure is something I live for.</p>
        <p>Today I consider myself a young entrepreneur whose parents think I’m crazy…</p>
        <p>I earn 0$ per month, and started a personal brand where I share my journey of how i build up my startup fail by fail…</p>

        
        <img src="assets/about.png" alt="Centered Image" class="centered-image">
    </main>

    <section class="projects-section">
        <div class="gradient-top"></div>
        <h2>You Might Be <span>Interested</span> In</h2>
        <div class="projects-container">
            <!-- 8 cards -->
            <div class="card">
                <img src="assets/cat.png" alt="Project Placeholder" class="card-image">
                <div class="card-footer">
                    <span class="project-number"><strong>My Experience</strong></span>
                    <button class="down-arrow">
                        <img src="assets/down.svg" alt="Down Arrow"  class="dropdown-icon">
                    </button>
                </div>
                <div class="card-details">
                    <p>Details about Project #1. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>
            </div>
            <div class="card">
                <img src="assets/cat2.png" alt="Project Placeholder" class="card-image">
                <div class="card-footer">
                    <span class="project-number"><strong>Hiring Me</strong></span>
                    <button class="down-arrow">
                        <img src="assets/down.svg" alt="Down Arrow"  class="dropdown-icon">
                    </button>
                </div>
                <div class="card-details">
                    <p>Details about Project #1. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>
            </div>
            <div class="card">
                <img src="https://placehold.co/600x400" alt="Project Placeholder" class="card-image">
                <div class="card-footer">
                    <span class="project-number"><strong>My Startup</strong></span>
                    <button class="down-arrow">
                        <img src="assets/down.svg" alt="Down Arrow"  class="dropdown-icon">
                    </button>
                </div>
                <div class="card-details">
                    <p>Details about Project #1. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>
            </div>
            <div class="card">
                <img src="https://placehold.co/600x400" alt="Project Placeholder" class="card-image">
                <div class="card-footer">
                    <span class="project-number"><strong>Project #4</strong></span>
                    <button class="down-arrow">
                        <img src="assets/down.svg" alt="Down Arrow"  class="dropdown-icon">
                    </button>
                </div>
                <div class="card-details">
                    <p>Details about Project #1. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>
            </div>
        </div>
    </section>
    <section class="ctasection">
        <div class="cta-container">
            <h2><strong>About My <span class="diff">Newsletter</span></strong></h2>
            <ul class="cta-points">
                <li><img src="assets/checkmark.svg" alt="Checkmark"> <strong>My failures and what I learn from them</strong></li>
                <li><img src="assets/checkmark.svg" alt="Checkmark"> <strong>Details about my startup</strong></li>
                <li><img src="assets/checkmark.svg" alt="Checkmark"> <strong>More about my personal life</strong></li>
                <li><img src="assets/checkmark.svg" alt="Checkmark"> <strong>My goals and plans towards them</strong></li>
                <li><img src="assets/checkmark.svg" alt="Checkmark"> <strong>The mindset that'll bring me success</strong></li>
            </ul>
            <form>
                <div class="input-container">
                    <label for="cta-first-name"></label>
                    <input type="text" id="cta-first-name" name="first-name" onfocus="this.value=''" value="First Name" required>
                </div>
                <div class="input-container">
                    <label for="cta-email"></label>
                    <input type="email" id="cta-email" name="email" placeholder=" " onfocus="this.value=''" value="Email Address" required>
                </div>
                <button type="button" class="cta-button" onclick="submitNewsletter()" style="background-color: #823DC1;"><strong>Join My Newsletter</strong></button>
            </form>
        </div>
        <div class="gradient-bottom"></div>
    </section>
    <footer class="footer">
        <hr class="footer-divider">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="assets/logo.png" alt="Logo">
                <span class="footer-logo-text"><strong>MrApers</strong></span>
            </div>
            <div class="footer-links">
                <a href="story.html" class="footer-link"><strong>My Story</strong></a>
                <a href="privacypolicy.html" class="footer-link"><strong>Privacy Policy</strong></a>
                <a href="sms:+32472216683" class="footer-link"><strong>Phone</strong></a>
                <a href="mailto:casper.apers@gmail.com" class="footer-link"><strong>Email</strong></a>
                <a href="https://www.linkedin.com/in/mr-apers-bb6720317/" class="footer-link" target="_blank"><strong>LinkedIn</strong></a>
            </div>
            <p class="footer-description">
                This website was created for demo purposes only to showcase Adobe XD. Site content by Dani Beaumont, with images by Traci L. Clever Photography and site design by Dani Beaumont and QooQee.com. All rights reserved.
            </p>
        </div>
    </footer>
    <script>

document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('input').forEach(input => {
        // Initialize the input color
        if (input.value === input.defaultValue) {
            input.style.color = 'grey';
        }

        input.addEventListener('focus', () => {
            if (input.value === input.defaultValue) {
                input.value = ''; // Clear default text
            }
            input.style.color = 'black'; // Text color for user input
        });

        input.addEventListener('blur', () => {
            if (input.value === '') {
                input.value = input.defaultValue; // Reset to default text
                input.style.color = 'grey'; // Grey for default text
            }
        });
    });
});


document.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('.card');
    const gradientTop = document.querySelector('.gradient-top');
    const gradientBottom = document.querySelector('.gradient-bottom');
    let openCardsCount = 0;
    
    buttons.forEach(button => {
        let isOpen = false;
        button.addEventListener('click', () => {
            const icon = button.querySelector('.dropdown-icon');
            const details = button.closest('.card').querySelector('.card-details');

            isOpen = !isOpen;
            openCardsCount += isOpen ? 1 : -1;

            // Toggle rotation on the icon
            icon.classList.toggle('rotate');

            // Toggle visibility of the details
            details.classList.toggle('visible');
            
            // Show both gradients only when all cards are closed
            const displayStyle = openCardsCount === 0 ? 'block' : 'none';
            gradientTop.style.display = displayStyle;
            gradientBottom.style.display = displayStyle;
        });
    });
});

document.addEventListener("DOMContentLoaded", () => {
    const downArrowButtons = document.querySelectorAll(".card");

    downArrowButtons.forEach((button) => {
        button.addEventListener("click", (event) => {
            const card = event.target.closest(".card"); // Get the parent card
            const details = card.querySelector(".card-details"); // Find the details section

            // Toggle the open class to expand/collapse the details
            if (details.classList.contains("open")) {
                details.classList.remove("open");
                button.classList.remove("active"); // Remove active class from button
                details.style.maxHeight = '0'; // Collapse
            } else {
                details.classList.add("open");
                button.classList.add("active"); // Add active class to button
                details.style.maxHeight = details.scrollHeight + 'px'; // Expand
            }
        });
    });
});
async function submitNewsletter() {
            const firstName = document.getElementById('cta-first-name').value;
            const email = document.getElementById('cta-email').value;

            if (!email) {
                alert('Please enter a valid email address.');
                return;
            }

            try {
                const response = await fetch('https://gothic-myrtia-mrapers-f48b0cd7.koyeb.app/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ firstName, email }),
                });

                if (response.ok) {
                    const result = await response.json();
                    alert('Thank you for subscribing! ' + result.message);
                } else {
                    const error = await response.json();
                    alert('Error: ' + (error.message || 'Unable to subscribe.'));
                }
            } catch (error) {
                console.error('Error:', error);
                alert('An unexpected error occurred. Please try again later.');
            }
        }

    </script>

</body>
</html>
